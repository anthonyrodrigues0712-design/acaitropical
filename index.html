<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Painel de Vendas - Açaí Tropical</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <link rel="stylesheet" href="styles.css" />
  <link rel="icon" type="image/png" href="https://cdn-icons-png.flaticon.com/512/5607/5607725.png" />

</head>
<body>
  <header class="header">
    <div class="header-inner" style="display:flex; justify-content:space-between; align-items:center; gap:12px;">
      <div>
        <h1>Painel de Vendas - Açaí Tropical</h1>
        <p class="subtitle">Organizando as vendas de maneira eficiente</p>
      </div>
      <div style="text-align:right;">
        <div style="font-size:13px; color:var(--muted);">Vendedor logado:</div>
        <div style="display:flex; gap:8px; align-items:center;">
          <strong id="vendedorNome" style="color:var(--primary);">—</strong>
          <button id="logoutBtn" class="small-btn" style="padding:6px 10px; border-radius:8px;">Sair</button>
        </div>
      </div>
    </div>
    <hr />
  </header>
  <main class="main">
    <section class="top-cards" aria-label="Métricas principais">
      <div class="card metric-card">
        <h4>PEDIDOS DO DIA</h4>
        <div class="metric-value" id="ordersToday">0</div>
        <p class="subtext" id="ordersDelta">—</p>
      </div>
      <div class="card metric-card">
        <h4>VALOR EM VENDAS</h4>
        <div class="metric-value" id="revenueToday">R$ 0,00</div>
        <p class="subtext" id="revenueDelta">—</p>
      </div>
      <div class="card metric-card">
        <h4>VENDEDOR</h4>
        <div class="metric-value" id="vendorNameCard">—</div>
        <p class="subtext" id="vendorSubtext">Logado</p>
      </div>
    </section>
    <div class="actions-row">
      <button id="openSaleLayer" class="primary-btn">Registrar Venda</button>
      <button id="generateReportBtn" class="ghost-btn">Gerar relatório (salvar + baixar PDF)</button>
    </div>
    <section class="content">
      <aside class="panel left-panel">
        <h3>Ações importantes</h3>
        <div class="meta">
          <h4>Meta do dia</h4>
          <div class="meta-info">
            <div class="meta-value" id="metaPercent">0%</div>
            <div class="meta-target">Meta R$ <span id="metaTargetValue">500,00</span></div>
          </div>
          <div class="meta-setter">
            <input id="metaInput" type="number" min="0" step="1" />
            <button id="saveMetaBtn" class="small-btn">Salvar meta</button>
          </div>
          <div class="progress-wrap" aria-hidden="true">
            <div class="progress-bar" id="progressBar" style="width:0%"></div>
          </div>
          <p class="note" id="metaNote">Colete mais vendas para atingir a meta.</p>
        </div>
        <div class="payment-totals">
          <h4>Totais por forma</h4>
          <div class="payment-line">Dinheiro: <strong id="totalDinheiro">R$ 0,00</strong></div>
          <div class="payment-line">PIX: <strong id="totalPIX">R$ 0,00</strong></div>
          <div class="payment-line">Cartão: <strong id="totalCartao">R$ 0,00</strong></div>
        </div>
        <div class="daily-totals">
          <h4>Totais por dia</h4>
          <select id="dateFilter" class="date-filter">
            <option value="all">Todas as datas</option>
          </select>
          <div id="dailyTotalsList" class="daily-list"></div>
        </div>
        <div class="reports-panel">
          <h4>Relatórios</h4>
          <div id="reportsList" class="reports-list"></div>
        </div>
      </aside>
      <section class="panel right-panel">
        <div class="panel-header">
          <div>
            <h3>Vendas</h3>
            <small class="muted">Mostrando vendas filtradas (por data e forma)</small>
          </div>
          <div class="filter-row">
            <label for="paymentFilter" class="muted">Filtrar por forma:</label>
            <select id="paymentFilter">
              <option value="all">Todas</option>
              <option value="Dinheiro">Dinheiro</option>
              <option value="PIX">PIX</option>
              <option value="Cartão">Cartão</option>
            </select>
          </div>
        </div>
        <div id="recentSales" class="sales-list"></div>
        <div class="panel-footer">
          <button id="clearSalesBtn" class="danger-btn">Limpar histórico de vendas</button>
        </div>
      </section>
    </section>
  </main>
  <div id="saleLayer" class="sale-layer" aria-hidden="true">
    <div class="sale-content" role="dialog" aria-modal="true" aria-labelledby="saleTitle">
      <h2 id="saleTitle">Registrar Venda</h2>
      <label for="product">Produto</label>
      <select id="product">
        <option value="acai">Açaí</option>
        <option value="agua">Água</option>
        <option value="refri">Refrigerante</option>
      </select>
      <label for="quantity">Quantidade</label>
      <input id="quantity" type="number" min="1" value="1" />
      <label for="unitPriceInput">Preço unitário (R$)</label>
      <input id="unitPriceInput" type="number" step="0.01" min="0" placeholder="Informe o preço unitário" />
      <div class="row">
        <div class="price-preview">
          <small>Total</small>
          <div id="totalPrice">R$ 0,00</div>
        </div>
        <div style="width:48%">
          <label for="paymentMethod">Forma de pagamento</label>
          <select id="paymentMethod">
            <option value="Dinheiro">Dinheiro</option>
            <option value="PIX">PIX</option>
            <option value="Cartão">Cartão</option>
          </select>
        </div>
      </div>
      <div class="modal-actions">
        <button id="confirmSaleBtn" class="primary-btn">Confirmar Venda</button>
        <button id="closeSaleLayer" class="ghost-btn">Fechar</button>
      </div>
      <div id="saleMsg" class="message" aria-live="polite"></div>
    </div>
  </div>
  <div id="loginLayer" class="sale-layer" aria-hidden="true">
    <div class="sale-content" role="dialog" aria-modal="true" aria-labelledby="loginTitle" style="max-width:380px;">
      <h2 id="loginTitle">Entrar</h2>
      <label for="loginUser">Usuário</label>
      <input id="loginUser" type="text" placeholder="usuário" />
      <label for="loginPass">Senha</label>
      <input id="loginPass" type="password" placeholder="senha" />
      <div style="display:flex; gap:8px; align-items:center;">
        <button id="loginBtn" class="primary-btn">Entrar</button>
        <button id="createUserBtn" class="small-btn">Criar usuário</button>
      </div>
      <p id="loginError" style="color:#c0392b; display:none; margin-top:8px;">Usuário ou senha inválidos.</p>
      <p style="font-size:12px; color:var(--muted); margin-top:8px;">Se não há usuários, clique em "Criar usuário" para gerar um usuário demo.</p>
    </div>
  </div>
  <footer class="footer">
    <div class="footer-inner">
      <p>© 2025 Açaí Tropical — Sistema de Vendas</p>
      <p class="footer-small">Desenvolvido para organização e desempenho dos vendedores</p>
    </div>
  </footer>
  <script src="script.js"></script>
</body>
</html>



